{
    "id": "dfrobot_par_rs485",
    "name": "DFRobot PAR Sensor (RS485)",
    "description": "Photosynthetically Active Radiation (PAR) sensor using RS485 Modbus.",
    "category": "SENSOR",
    "conversionStrategy": "linear",
    "capabilities": [
        "READ"
    ],
    "supportedStrategies": [
        "linear"
    ],
    "requirements": {
        "interface": "uart",
        "voltage": "5V",
        "pin_count": {
            "uart": 1
        }
    },
    "commands": {
        "READ": {
            "hardwareCmd": "MODBUS_RTU_READ",
            "valuePath": "registers",
            "sourceUnit": "umol_m2_s",
            "params": {
                "slaveId": 1,
                "funcCode": 3,
                "startAddr": 0,
                "len": 1
            },
            "outputs": [
                {
                    "key": "par",
                    "label": "PAR",
                    "unit": "µmol/m²/s"
                }
            ]
        }
    },
    "pins": [
        {
            "name": "RX",
            "type": "DIGITAL_IN"
        },
        {
            "name": "TX",
            "type": "DIGITAL_OUT"
        }
    ],
    "initialState": {
        "value": 0
    },
    "uiConfig": {
        "icon": "lightbulb",
        "units": [
            "µmol/m²/s"
        ],
        "tags": [
            "PAR",
            "Light"
        ],
        "category": "Light",
        "recommendedPins": [
            "D0",
            "D1"
        ],
        "capabilities": {
            "READ": {
                "label": "PAR Reading",
                "icon": "lightbulb",
                "tooltip": "Measures light intensity relevant for photosynthesis (400-700nm)."
            }
        }
    }
}