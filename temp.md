1. Точка на достъп
Вариант A: Превключвател в съществуващия екран за програми

[Basic] [Advanced]  ← Toggle бутони
Вариант B: Отделен бутон "+ Add Advanced Program"

Моята препоръка: Вариант A — потребителят избира режим в началото на създаването, но UI-то се адаптира.

2. Структура на екрана (Advanced Mode)
┌─────────────────────────────────────────────────────────────────┐
│  Program Name: [______________]    Description: [____________]  │
│                                                                 │
│  Mode: ○ Basic  ● Advanced                                      │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  📅 ВРЕМЕВИ ПРОЗОРЦИ                          [+ Добави прозорец]│
│  ─────────────────────────────────────────────────────────────  │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ 🌅 Сутрешно поливане                              [🗑️ ✏️] │   │
│  │ 07:00 - 09:00  |  Проверка: 5 мин  |  Данни: Кеширани   │   │
│  │                                                          │   │
│  │ ТРИГЕРИ:                                                 │   │
│  │ ┌──────────────────────────────────────────────────────┐ │   │
│  │ │ 1. PAR | между 100-300 | Поток: "Поливане A" | ⏭️    │ │   │
│  │ ├──────────────────────────────────────────────────────┤ │   │
│  │ │ 2. Temp | > 28°C | Поток: "Вентилация" | ⏭️          │ │   │
│  │ ├──────────────────────────────────────────────────────┤ │   │
│  │ │ 3. PAR | > 500 | Поток: "Основно" | 🛑               │ │   │
│  │ └──────────────────────────────────────────────────────┘ │   │
│  │                                    [+ Добави тригер]     │   │
│  │                                                          │   │
│  │ ⚠️ Fallback: [Резервно поливане ▼]                       │   │
│  └──────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ ☀️ Обедно поливане                               [🗑️ ✏️] │   │
│  │ 12:00 - 14:00  |  Проверка: 10 мин  |  Данни: Live      │   │
│  │ ...                                                      │   │
│  └──────────────────────────────────────────────────────────┘   │
│                                                                 │
├─────────────────────────────────────────────────────────────────┤
│                                        [Cancel]  [Save Program] │
└─────────────────────────────────────────────────────────────────┘
3. Диалог за добавяне/редакция на Времеви прозорец
┌─────────────────────────────────────────────────────────────────┐
│  📅 Времеви прозорец                                            │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  Име:       [Сутрешно поливане_______]                          │
│                                                                 │
│  Начало:    [07:00 ▼]     Край:    [09:00 ▼]                    │
│                                                                 │
│  Интервал:  [5 ▼] минути                                        │
│                                                                 │
│  Данни:     ○ Кеширани (по-бързо)                               │
│             ● Live (по-точно)                                   │
│                                                                 │
│  Fallback:  [Изберете поток ▼]                                  │
│             □ Маркирай като завършен за деня                    │
│                                                                 │
├─────────────────────────────────────────────────────────────────┤
│                                        [Cancel]  [Save Window]  │
└─────────────────────────────────────────────────────────────────┘
4. Диалог за добавяне/редакция на Тригер
┌─────────────────────────────────────────────────────────────────┐
│  ⚡ Тригер                                                       │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  Сензор:    [PAR Sensor (Main Controller) ▼]                    │
│             Стойност: par                                       │
│                                                                 │
│  Условие:   [между ▼]   [100___]  и  [300___]                   │
│                                                                 │
│  Поток:     [Поливане с разтвор A ▼]                            │
│             [+ Добави още поток]                                │
│                                                                 │
│  След изпълнение:                                               │
│             ○ Continue (продължи проверката)                    │
│             ● Break (спри и премини напред)                     │
│                                                                 │
├─────────────────────────────────────────────────────────────────┤
│                                        [Cancel]  [Save Trigger] │
└─────────────────────────────────────────────────────────────────┘
5. UX съображения
Елемент	Поведение
Drag & Drop	Тригерите могат да се пренареждат с влачене (приоритет)
Иконки	⏭️ = Continue, 🛑 = Break за бърз преглед
Валидация	Предупреждение ако няма Break тригер (може да върви вечно)
Преглед	Collapse/Expand за прозорците с много тригери
